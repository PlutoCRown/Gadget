<!DOCTYPE html>
<html>

<head>
  <title>Canvas Composite Modes</title>
  <style>
    canvas {
      border: 1px solid black;
    }
  </style>
</head>

<body>
  <!-- <canvas id="myCanvas" width="2500" height="2500"></canvas> -->

  <script>
    var compositeModes = [
      "source-over",
      "source-in",
      "source-out",
      "source-atop",
      "destination-over",
      "destination-in",
      "destination-out",
      "destination-atop",
      "lighter",
      "copy",
      "xor",
      "multiply",
      "screen",
      "overlay",
      "darken",
      "lighten",
      "color-dodge",
      "color-burn",
      "hard-light",
      "soft-light",
      "difference",
      "exclusion",
      "hue",
      "saturation",
      "color",
      "luminosity",]

    var circleX = 20;
    var circleY = 20;
    var rectWidth = 80;
    var rectHeight = 80;

    // 绘制背景矩形
    for (var j = 0; j < compositeModes.length; j++) {
      for (var i = 0; i < compositeModes.length; i++) {
        var canvas = document.createElement("canvas")
        var context = canvas.getContext('2d');
        const a = compositeModes[j]
        const b = compositeModes[i]
        canvas.onclick = () => {
          alert(`${a} ${b}`)
        }
        canvas.width = 100
        canvas.height = 100
        document.documentElement.appendChild(canvas)
        context.globalCompositeOperation = compositeModes[j];
        // 绘制图形
        context.beginPath();
        context.arc(
          circleX + 20,
          circleY + 20,
          rectWidth / 2,
          0,
          Math.PI * 2
        );
        context.fillStyle = 'red';
        context.fill();

        // // 设置混合模式
        context.globalCompositeOperation = compositeModes[i];

        // 绘制矩形
        context.fillStyle = 'blue';
        context.fillRect(
          circleX - rectWidth / 2,
          circleY - rectHeight / 2,
          rectWidth,
          rectHeight
        );
      }
      document.documentElement.appendChild(document.createElement("hr"))
    }
  </script>
</body>

</html>