
// æŽ¨å¯¼ I é˜¶ä¹˜
(()=>{
    // å®šä¹‰ä¸€ä¸ªé€’å½’çš„å‡½æ•°
    const factorial = (num) => num == 0 ? 1 : factorial(num-1)*num;
    console.log(factorial(5)); // 120
});

// æŽ¨å¯¼ II è°ƒç”¨è‡ªèº«
(()=>{
    // å‡è®¾å­˜åœ¨ä¸€ä¸ªselfå¼•ç”¨ï¼Œå¯ä»¥ä¸ç”¨å®šä¹‰å˜é‡å®žçŽ°é€’å½’
    ((num) => num == 0 ? 1 : self(num-1)*num)(5);
    // æŠŠä»–å‚æ•°åŒ–ï¼Œä¹Ÿå°±æ˜¯å‡è£…å¤–é¢æœ‰ä¸€ä¸ªå‡½æ•°å¯ä»¥è®©æˆ‘ä»¬èŽ·å¾—è¿™ä¸ªå¼•ç”¨
    ((self) =>(num) => num == 0 ? 1 : self(num-1)*num)(/* SomeThing */)(5);
    // å®žé™…ä¸Šä¸Šä¸€è¡Œä¸èƒ½è¿è¡Œï¼Œå› ä¸ºçŽ°åœ¨å‡½æ•°æœ¬èº«å·²ç»æ˜¯æœ‰ä¸¤ä¸ªå‚æ•°äº†ï¼Œå› æ­¤æˆ‘ä»¬è°ƒç”¨å‰åº”è¯¥å…ˆä¼ å…¥self
    ((self) =>(num) => num == 0 ? 1 : self(self)(num-1)*num)(/* SomeThing */)(5);
    // å…¶å®žæˆ‘ä»¬åªéœ€è¦å¤åˆ¶ä¸€ä»½è¿™ä¸ªå‡½æ•°ï¼Œè®©å‰ä¸€ä»½å‡½æ•°çš„selfæœ‰ç›¸åŒçš„ä»£ç å†…å®¹å°±å¯ä»¥äº†
        ((self) =>(num) => num == 0 ? 1 : self(self)(num-1)*num)
        ((self) =>(num) => num == 0 ? 1 : self(self)(num-1)*num)(5);
}); // ä¸å¯è¿è¡Œ

// æŽ¨å¯¼ III æŠ½è±¡
(()=>{
    // ä¸Šé¢çš„æˆ‘ä»¬å·²ç»å®žçŽ°äº†ä¸€ä¸ªçº¯åŒ¿åå‡½æ•°çš„é€’å½’
    console.log(
        ( self=>num=> num == 0 ? 1 : self(self)(num-1)*num )
        ( self=>num=> num == 0 ? 1 : self(self)(num-1)*num )
        (5)
    ); // 120
    // å¦‚æžœå‡½æ•°å¾ˆé•¿ï¼Œå¤åˆ¶ä¸€ä»½å¹¶ä¸ä¼˜é›…
    // å‡è®¾å­˜åœ¨ä¸€ä¸ªå‡½æ•°ï¼Œä»–å¯ä»¥è¿™æ · Y(F) => F(Y(F))
    let Y = (recuiseFunction) => {/* Some Work */}  
    // ç„¶åŽä»–å°±ä¼šè‡ªèº«æ— é™é€’å½’ => F(F(F(F(F(F(...Y(F)...))))))
    // å‚æ•° F æ˜¯æˆ‘ä»¬çš„åŽŸå‡½æ•° ,ä»–çš„ç­¾åæ˜¯ F = (self) => (realparams) => SomeWork
    // F æœ‰ä¸¤ä¸ªå‚æ•° , æ‰€ä»¥åªæ˜¯ä¼ å…¥ç¬¬ä¸€ä¸ªå‚æ•° Y(F) , å‡½æ•°å¹¶ä¸ä¼šäº§ç”Ÿä¸€æ¬¡é€’å½’
    // å½“ä¼ å…¥ç¬¬äºŒä¸ªå‚æ•°, Fä¼šçœŸæ­£çš„æ‰§è¡Œé€»è¾‘ ï¼Œå¹¶äº§ç”Ÿä¸‹ä¸€ä¸ªY(F), å¹¶ä¸”ä¼šè‡ªå¸¦ä¼ å…¥ç¬¬ä¸€ä¸ªå‚æ•°ï¼ˆä¹Ÿå°±æ˜¯Y(F)ï¼‰...
    // ä¹Ÿè®¸ä½ ä¼šæƒ³ï¼Œå¤åˆ¶ä¸¤æ¬¡ï¼Œåªéœ€ä½¿ç”¨è¿™ä¸ªå‡½æ•°å°±è¡Œ
    Y = (g=>g(g));
    const raw = (self) => num => num == 0 ? 1 : self(self)(num-1)*num;
    // å®žé™…ä¸Šä»–å¯ç”¨ï¼Œä½†æ˜¯selfå±…ç„¶è¦å…ˆä¼ å…¥selfå‡½æ•°æ‰èƒ½ç”¨ðŸ‘†ï¼Ÿæˆ‘ä»¬ä¸èƒ½æ— æ„ŸçŸ¥æŠŠä»–çœŸæ­£çš„å½“ä½œè‡ªèº«ä½¿ç”¨
    const Factorial = Y(raw);
    console.log(Factorial(5)); // Assert is 120
});

// æŽ¨å¯¼ IV è®¾è®¡ Y å‡½æ•°
(()=>{
    // y å¿…é¡»è¿”å›žä¸€ä¸ªå‡½æ•° ,å¹¶ä¸”æœ‰2ä¸ªç‹¬ç«‹çš„å‚æ•°ï¼Œå¹¶ä¸”æå‰ä¼ å…¥äº†ä¸€ä¸ªï¼ˆè‡ªèº«ä»£ç ï¼‰
    Y = (origin) => ( (params1) => (params2) => {/*SomeWork*/} );
    // æˆ‘ä»¬æ˜Žç¡®äº†å‚æ•°,çœ‹èµ·æ¥è¿™æ ·çš„ä»£ç å¯ç”¨(ç¡®å®žå¯ä»¥)ï¼Œä½†æ˜¯è¿™æ ·å’Œg=>g(g)æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢
    Y = (origin) => ( (self) => (realParams) => origin(self)(realParams) );
    // å®žé™…ä¸Šæˆ‘ä»¬ä¸åº”è¯¥è®©origin æ‰§è¡Œ2æ¬¡ï¼ŒOriginåªåº”è¯¥æœ‰ä¸€ä¸ªå‚æ•°ï¼Œæˆ‘ä»¬åº”è¯¥å°†å¯æ‰§è¡Œä¸¤æ¬¡çš„æ“ä½œå°è£…åˆ°selfé‡Œ
    // ä¸‹é¢çš„åšæ³•è®©Originè°ƒç”¨æ—¶åªä¼ å…¥ä¸€ä¸ªå‚æ•°ï¼Œé‚£ä¹ˆç”¨æˆ·æ‹¿åˆ°çš„selfå¿…ç„¶ä¸æ˜¯çœŸå®žçš„selfï¼Œåªæ˜¯å°†æå‰é—­åŒ…åœ¨é‡Œé¢çš„originè°ƒç”¨çš„è¿‡ç¨‹
    Y = (origin) => ( (self) => origin(realParams => self(self)(realParams)) );
    // å½“selfä¼ å…¥ ï¼Œç«‹åˆ»æ‰§è¡Œorigin, æŒ‰é“ç†originåº”è¯¥ç›´æŽ¥æ‰§è¡Œï¼Œ
    // ä½†æ˜¯æˆ‘ä»¬ç»™originä¼ å…¥çš„æ˜¯å¦ä¸€ä¸ªå‡½æ•°ï¼Œä»–éœ€è¦æŽ¥å—ä¸€ä¸ªå‚æ•°æ‰èƒ½çœŸæ­£çš„æ‰§è¡Œ
    // è¿™æ · åœ¨ä¸‹ä¸€æ­¥ä¸­ï¼Œæˆ‘ä»¬å°†å¤åˆ¶ä¸€ä»½è¿™æ ·çš„å‡½æ•°ï¼Œè®©å‰é¢çš„selfæŒæœ‰æœ¬èº«ï¼Œæ­¤æ—¶æ‰§è¡Œoriginï¼Œå‡½æ•°å˜ä¸ºä¸€ä¸ªç­‰å¾…realParamsçš„çŠ¶æ€
    // å½“realParamsä¼ å…¥ï¼Œoriginçš„çœŸå®žæ‰§è¡Œç»“æžœå°†è¿”å›žï¼Œå¹¶ä¸”selfä»ç„¶æ˜¯self
    // å¤åˆ¶ä¸€ä»½
    Y = (origin) => ( (self) => origin(realParams => self(self)(realParams)) )
                    ( (self) => origin(realParams => self(self)(realParams)) );
    // ä½¿ç”¨ g=>g(g)
    Y =  origin => (g=>g(g)) ((self) => origin(params => self(self)(params))); // right
});

// æŽ¨å¯¼ V ä»€ä¹ˆæ˜¯Yç»„åˆå­
(()=>{
    // æ³¨æ„åˆ°
    Y(F) == F(Y(F))
    // å…¶ä¸­ Y(F) æ˜¯ F çš„å‡½æ•°ï¼Œ è®¾ä¸º x
    x == F(x)
    // æ¼‚äº®çš„ç­‰å¼ï¼Œåœ¨æ•°å­¦ä¸Šæˆ‘ä»¬ç§°ä¸ºä¸åŠ¨ç‚¹
    // Y-Combinator å¯ä»¥æ‰¾åˆ°å‡½æ•°çš„ä¸åŠ¨ç‚¹
}); // ä¸å¯è¿è¡Œ 

// æŽ¨å¯¼ VI åº”ç”¨æ¡ˆä¾‹
(()=>{
    console.log(
        (g=>g(g))
        (self => num => num == 0 ? 1 : self(self)(num-1)*num)
        (5)
    ); // ä¸ä¼˜é›…çš„é˜¶ä¹˜
    console.log(
        (g=>g(g))
        (self => num => (num == 1 || num == 2) ? 1 : self(self)(num-1)+self(self)(num-2))
        (7)
    ); // ä¸ä¼˜é›…çš„æ–æ³¢é‚£å¥‘
    // use Y
    console.log(
        ((f) => (g=>g(g))((x) => f((y) => x(x)(y))))
        (self => num => num == 0 ? 1 : self(num-1)*num)
        (5)
    ); // ä¼˜é›…çš„é˜¶ä¹˜
    console.log(
        ((f) => (g=>g(g))((x) => f((y) => x(x)(y))))
        (self => num => (num == 1 || num == 2) ? 1 : self(num-1)+self(num-2))
        (7)
    ); // ä¼˜é›…çš„é˜¶ä¹˜
});

// Test Function
(()=>{
    console.log("End")
})()